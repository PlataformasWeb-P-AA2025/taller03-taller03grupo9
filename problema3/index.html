<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Demo Países con jQuery</title>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
</head>

<body>
    <h1>Ejemplo de Uso de jQuery con Países</h1>
    <p id="mensajeFinal"></p>
    <button type="submit" id="obtenerInformacion">Obtener información</button>
    <button type="submit" id="limpiarInformacion">Limpiar información</button>

    <script>
        $(document).ready(function () {
            var url =
                "https://pkgstore.datahub.io/core/country-codes/country-codes_json/data/616b1fb83cbfd4eb6d9e7d52924bb00a/country-codes_json.json";

            $("#obtenerInformacion").click(function () {
                $.ajax({
                    dataType: "json",
                    url: url,
                }).then(function (data) {
                    for (var i = 0; i < data.length; i++) {
                        console.log(data[i]);
                        console.log("Nombre:", data[i]["CLDR display name"]);
                        console.log("Capital:", data[i]["Capital"]);
                        console.log("FIPS:", data[i]["FIPS"]);
                        console.log("FIFA:", data[i]["FIFA"]);
                        console.log("Continente:", data[i]["Continent"]);
                        console.log("Idiomas:", data[i]["Languages"]);
                        console.log("Geoname ID:", data[i]["Geoname ID"]);
                        console.log("Código Vehicular Internacional:", data[i]["International vehicle registration code"]);

                        $('#mensajeFinal').append(
                            "<p><b>Nombre:</b> " + (data[i]["CLDR display name"] || "N/A") +
                            " <b>Capital:</b> " + (data[i]["Capital"] || "N/A") +
                            " <b>FIPS:</b> " + (data[i]["FIPS"] || "N/A") +
                            " <b>FIFA:</b> " + (data[i]["FIFA"] || "N/A") +
                            " <b>Continente:</b> " + (data[i]["Continent"] || "N/A") +
                            " <b>Idiomas:</b> " + (data[i]["Languages"] || "N/A") +
                            " <b>Geoname ID:</b> " + (data[i]["Geoname ID"] || "N/A") +
                            " <b>Vehículo Internacional:</b> " + (data[i]["International vehicle registration code"] || "N/A") +
                            "</p>"
                        );
                    }
                });
            });

            // se usa jquery y ajax para obtener datos de paises desde el archivo json.
            // por cada paos, muestra en consola y en pantalla los siguientes datos:
            // nombre en inges (CLDR)
            // capital (geonames)
            // codigos fips y fifa
            // continente e idiomas (Geonames)
            // geoname id
            // codigo de vehiculos internacionales
            // se agrego el uso de campos especificos del json que representa informacion de los paises.


            $("#limpiarInformacion").click(function () {
                $("#mensajeFinal").empty();
            });
        });
    </script>
</body>

</html>